(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{13:function(e,t,r){e.exports={wrapper:"Pagination_wrapper__1MyGX",activeBtn:"Pagination_activeBtn__cg_M9"}},14:function(e,t,r){e.exports={wrapper:"SearchInput_wrapper__1kv41",text:"SearchInput_text__1tlga",input:"SearchInput_input__2wCi4"}},19:function(e,t,r){e.exports={arrowWrapper:"TableHeader_arrowWrapper__1z5BB",header:"TableHeader_header__3RZ9h"}},29:function(e,t,r){e.exports={filterBtns:"App_filterBtns__29-ou"}},30:function(e,t,r){e.exports={container:"Container_container__3RIox"}},31:function(e,t,r){e.exports={header:"Header_header__1VCKf"}},32:function(e,t,r){e.exports={table:"Table_table__3cVv6"}},33:function(e,t,r){e.exports={rowWrapper:"TableRow_rowWrapper__ReDdS"}},35:function(e,t,r){e.exports={wrapper:"Loading_wrapper__e0Z41"}},36:function(e,t,r){e.exports={footer:"Footer_footer__1w0lV"}},43:function(e,t,r){},6:function(e,t,r){e.exports={wrapper:"InfoBlock_wrapper__fHFQ2",header:"InfoBlock_header__1a6PW",body:"InfoBlock_body__1MOpt",listItem:"InfoBlock_listItem__3Ce6c"}},69:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r.n(a),c=r(10),s=r.n(c),i=(r(43),r(5)),o=r(29),d=r.n(o),u=r(30),l=r.n(u),j=r(0),f=function(e){var t=e.children;return Object(j.jsx)("div",{className:l.a.container,children:t})},p=r(9),b=r.n(p),_=r.p+"static/media/upArrow.4dcd8795.svg",O=r.p+"static/media/downArrow.7ebb6912.svg",h=function(e){var t=e.data,r=e.extValue,n=e.extSetValue,c=Object(a.useState)(!1),s=Object(i.a)(c,2),o=s[0],d=s[1],u=Object(a.useState)(""),l=Object(i.a)(u,2),f=l[0],p=l[1],h=function(e){n?n(e):p(e)};return Object(j.jsxs)("div",{className:b.a.wrapper,onClick:function(){return d(!o)},children:[Object(j.jsx)("div",{className:b.a.text,children:r||(f||"Filter by state")}),Object(j.jsx)("div",{className:b.a.imgWrapper,children:Object(j.jsx)("img",{alt:"arrow",src:o?_:O})}),o&&Object(j.jsxs)("div",{className:b.a.openedMenu,children:[Object(j.jsx)("div",{onClick:function(){return h("")},children:"All"}),t.map((function(e,t){return Object(j.jsx)("div",{onClick:function(){return h(e)},children:e},t)}))]})]})},m=r(31),x=r.n(m),v=function(){return Object(j.jsx)("div",{className:x.a.header})},N=r(13),g=r.n(N),w=function(e){for(var t=e.page,r=e.setPage,n=e.pageSize,c=e.allCount,s=e.portionSize,o=void 0===s?3:s,d=Object(a.useState)(t),u=Object(i.a)(d,2),l=u[0],f=u[1],p=Math.ceil(c/n),b=[],_=1;_<=p;_++)b.push(_);var O=Object(a.useState)(1),h=Object(i.a)(O,2),m=h[0],x=h[1],v=Math.ceil(p/o),N=(m-1)*o+1,w=m*o,S=function(e){r(e),f(e)};return Object(a.useEffect)((function(){f(t)}),[t]),Object(j.jsxs)("div",{className:g.a.wrapper,children:[m>1&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("button",{onClick:function(){x(1),S(1)},children:"1..."}),Object(j.jsx)("button",{onClick:function(){x(m-1)},children:"Previous"})]}),b.filter((function(e){return e>=N&&e<=w})).map((function(e){return Object(j.jsx)("button",{onClick:function(){return S(e)},className:e===l?g.a.activeBtn:g.a.default,children:e},e)})),v>m&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("button",{onClick:function(){x(m+1)},children:"Next"}),Object(j.jsx)("button",{onClick:function(){x(v),S(p)},children:"...".concat(p)})]})]})},S=function(e){var t=e.alignItems,r=void 0===t?"start":t,a=e.justifyContent,n=void 0===a?"stretch":a,c=e.flexDirection,s=void 0===c?"row":c,i=e.children,o=e.className;return Object(j.jsx)("div",{className:o,style:{alignItems:r,justifyContent:n,flexDirection:s,display:"flex"},children:i})},y=r(14),C=r.n(y),E=function(e){var t=e.extValue,r=e.extSetValue,n=Object(a.useState)(""),c=Object(i.a)(n,2),s=c[0],o=c[1];return Object(j.jsxs)("div",{className:C.a.wrapper,children:[Object(j.jsx)("div",{className:C.a.text,children:"Search by name:"}),Object(j.jsx)("input",{type:"text",className:C.a.input,value:t||s,onChange:function(e){r?r(e.target.value):o(e.target.value)}})]})},I=r(32),U=r.n(I),T=r(33),V=r.n(T),k=function(e){var t=e.data,r=e.extMutation;return Object(j.jsx)("tr",{className:V.a.rowWrapper,onClick:r&&r,children:Object.values(t).map((function(e,t){return Object(j.jsx)("td",{align:"center",children:e},t)}))})},B=r(19),M=r.n(B),F=function(e){var t=e.header,r=e.extMutation,a=e.chosenOrder,n=e.ascOrder;return Object(j.jsx)("th",{onClick:function(){r&&r()},children:Object(j.jsxs)("div",{className:M.a.header,children:[Object(j.jsx)("div",{children:t}),Object(j.jsx)("div",{className:M.a.arrowWrapper,children:Object(j.jsx)("img",{alt:"arrow",src:a===n?_:O})})]})})},D=function(e){var t=e.headers,r=e.users,n=e.extMutation,c=e.clbsArray,s=e.chosenOrder,i=Object(a.useMemo)((function(){return c&&Object.values(c[0])}),[c]),o=Object(a.useMemo)((function(){return c&&Object.values(c[1])}),[c]);return Object(j.jsxs)("table",{className:U.a.table,children:[Object(j.jsx)("thead",{children:Object(j.jsx)("tr",{children:t.map((function(e,t){return Object(j.jsx)(F,{header:e,extMutation:i&&i[t],chosenOrder:s&&s,ascOrder:o&&o[t]},t)}))})}),Object(j.jsx)("tbody",{children:r&&r.map((function(e){return Object(j.jsx)(k,{extMutation:function(){return n&&n(e)},data:{col1:e.id,col2:e.firstName,col3:e.lastName,col4:e.email,col5:e.phone,col6:e.adress.state}},e.id+e.adress.zip)}))})]})},R=["id","First name","Last name","Email","Phone","State"],A=r(4),z=r(7),L=r.n(z),P=r(12),W=r(38),H=r(2),G=r(34),J=r.n(G),Q=function(){return Object(P.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.a.get("https://itrex-react-lab-files.s3.eu-central-1.amazonaws.com/react-test-api.json");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))()},X="SET_USERS",Z="IS_FETCHED",K="SET_PAGINATION_USERS",q="SET_STATE_FILTER",Y="SET_SEARCH_FILTER",$="SET_FILTERED_USERS",ee="SET_PAGE",te="SET_STATES",re="SET_ORDER",ae="CHOSEN_ORDER",ne={usersData:[],isDataFetched:!1,paginatedUsers:[],filteredUsers:[],searchValue:"",stateValue:"",page:1,pageSize:20,states:[],chosenOrder:null},ce=function(){return{type:$}},se=function(){return{type:K}},ie=function(e){return{type:ee,data:e}},oe=function(e){return{type:te,data:e}},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){t(ie(e)),t(se())}},ue=function(e){return function(t){t({type:q,data:e}),t(ce()),t(de())}},le=function(e){return function(t){t({type:Y,data:e}),t(ce()),t(de())}},je=function(e){return function(t){t(function(e){return{type:re,data:e}}(e)),t(de()),t(function(e){return{type:ae,data:e}}(e))}},fe=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case X:return Object(H.a)(Object(H.a)({},t),{},{usersData:r.data});case Z:return Object(H.a)(Object(H.a)({},t),{},{isDataFetched:!0});case K:var a=(t.page-1)*t.pageSize;return Object(H.a)(Object(H.a)({},t),{},{paginatedUsers:null===(e=t.filteredUsers)||void 0===e?void 0:e.slice(a,a+t.pageSize)});case q:return Object(H.a)(Object(H.a)({},t),{},{stateValue:r.data});case Y:return Object(H.a)(Object(H.a)({},t),{},{searchValue:r.data});case ee:return Object(H.a)(Object(H.a)({},t),{},{page:r.data});case te:return Object(H.a)(Object(H.a)({},t),{},{states:r.data});case ae:return Object(H.a)(Object(H.a)({},t),{},{chosenOrder:r.data});case $:var n=Object(W.a)(t.usersData).filter((function(e){return!t.stateValue||e.adress.state.toLowerCase()===t.stateValue.toLowerCase()})).filter((function(e){return!t.searchValue||(e.firstName.toLowerCase().includes(t.searchValue.toLowerCase())||e.lastName.toLowerCase().includes(t.searchValue.toLowerCase()))}));return Object(H.a)(Object(H.a)({},t),{},{filteredUsers:n});case re:return Object(H.a)(Object(H.a)({},t),{},{filteredUsers:"id_order_asc"===r.data?t.filteredUsers.sort((function(e,t){return e.id-t.id})):"id_order_des"===r.data?t.filteredUsers.sort((function(e,t){return t.id-e.id})):"fName_order_asc"===r.data?t.filteredUsers.sort((function(e,t){return e.firstName>t.firstName?1:e.firstName<t.firstName?-1:0})):"fName_order_des"===r.data?t.filteredUsers.sort((function(e,t){return e.firstName>t.firstName?-1:e.firstName<t.firstName?1:0})):"lName_order_asc"===r.data?t.filteredUsers.sort((function(e,t){return e.lastName>t.lastName?1:e.lastName<t.lastName?-1:0})):"lName_order_des"===r.data?t.filteredUsers.sort((function(e,t){return e.lastName>t.lastName?-1:e.lastName<t.lastName?1:0})):"email_order_asc"===r.data?t.filteredUsers.sort((function(e,t){return e.email>t.email?1:e.email<t.email?-1:0})):"email_order_des"===r.data?t.filteredUsers.sort((function(e,t){return e.email>t.email?-1:e.email<t.email?1:0})):"phone_order_asc"===r.data?t.filteredUsers.sort((function(e,t){return e.phone>t.phone?1:e.phone<t.phone?-1:0})):"phone_order_des"===r.data?t.filteredUsers.sort((function(e,t){return e.phone>t.phone?-1:e.phone<t.phone?1:0})):"state_order_asc"===r.data?t.filteredUsers.sort((function(e,t){return e.adress.state>t.adress.state?1:e.adress.state<t.adress.state?-1:0})):"state_order_des"===r.data?t.filteredUsers.sort((function(e,t){return e.adress.state>t.adress.state?-1:e.adress.state<t.adress.state?1:0})):t.filteredUsers});default:return t}},pe=r.p+"static/media/loading.ae27aa17.gif",be=r(35),_e=r.n(be),Oe=function(){return Object(j.jsx)("div",{className:_e.a.wrapper,children:Object(j.jsx)("img",{alt:"loading",src:pe})})},he=r(36),me=r.n(he),xe=function(){return Object(j.jsx)("div",{className:me.a.footer})},ve=r(6),Ne=r.n(ve),ge=function(e){var t=e.data;return Object(j.jsxs)("div",{className:Ne.a.wrapper,children:[Object(j.jsx)(S,{justifyContent:"center",className:Ne.a.header,children:Object(j.jsx)("h1",{children:"Profile info:"})}),Object(j.jsxs)(S,{className:Ne.a.body,flexDirection:"column",alignItems:"center",children:[Object(j.jsxs)("div",{className:Ne.a.listItem,children:[Object(j.jsx)("span",{children:"Selected profile: "}),Object(j.jsx)("span",{children:"".concat(t.firstName," ").concat(t.lastName)})]}),Object(j.jsxs)("div",{className:Ne.a.listItem,children:[Object(j.jsx)("span",{children:"Description: "}),Object(j.jsx)("span",{children:t.description})]}),Object(j.jsxs)("div",{className:Ne.a.listItem,children:[Object(j.jsx)("span",{children:"Address: "}),Object(j.jsx)("span",{children:t.adress.streetAddress})]}),Object(j.jsxs)("div",{className:Ne.a.listItem,children:[Object(j.jsx)("span",{children:"City: "}),Object(j.jsx)("span",{children:t.adress.city})]}),Object(j.jsxs)("div",{className:Ne.a.listItem,children:[Object(j.jsx)("span",{children:"State: "}),Object(j.jsx)("span",{children:t.adress.state})]}),Object(j.jsxs)("div",{className:Ne.a.listItem,children:[Object(j.jsx)("span",{children:"Index: "}),Object(j.jsx)("span",{children:t.adress.zip})]})]})]})};var we=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),r=t[0],n=t[1],c=Object(A.b)(),s=Object(A.c)((function(e){return e.reducer.paginatedUsers})),o=Object(A.c)((function(e){return e.reducer.filteredUsers.length})),u=Object(A.c)((function(e){return e.reducer.isDataFetched})),l=Object(A.c)((function(e){return e.reducer.searchValue})),p=Object(A.c)((function(e){return e.reducer.stateValue})),b=Object(A.c)((function(e){return e.reducer.page})),_=Object(A.c)((function(e){return e.reducer.pageSize})),O=Object(A.c)((function(e){return e.reducer.states})),m=Object(A.c)((function(e){return e.reducer.chosenOrder}));Object(a.useEffect)((function(){c(function(){var e=Object(P.a)(L.a.mark((function e(t){var r,a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Q();case 3:r=e.sent,t({type:X,data:r}),t(ce()),t(se()),a=[],r.forEach((function(e){-1===a.indexOf(e.adress.state)&&a.push(e.adress.state)})),t(oe(a)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:return e.prev=15,t({type:Z}),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,12,15,18]])})));return function(t){return e.apply(this,arguments)}}())}),[c]);var x=Object(a.useMemo)((function(){return[{clb1:"id_order_asc"===m?function(){return c(je("id_order_des"))}:function(){return c(je("id_order_asc"))},clb2:"fName_order_asc"===m?function(){return c(je("fName_order_des"))}:function(){return c(je("fName_order_asc"))},clb3:"lName_order_asc"===m?function(){return c(je("lName_order_des"))}:function(){return c(je("lName_order_asc"))},clb4:"email_order_asc"===m?function(){return c(je("email_order_des"))}:function(){return c(je("email_order_asc"))},clb5:"phone_order_asc"===m?function(){return c(je("phone_order_des"))}:function(){return c(je("phone_order_asc"))},clb6:"state_order_asc"===m?function(){return c(je("state_order_des"))}:function(){return c(je("state_order_asc"))}},{ascOrder1:"id_order_asc",ascOrder2:"fName_order_asc",ascOrder3:"lName_order_asc",ascOrder4:"email_order_asc",ascOrder5:"phone_order_asc",ascOrder6:"state_order_asc"}]}),[m,c]);return u?Object(j.jsxs)(f,{children:[Object(j.jsx)(v,{}),Object(j.jsxs)(S,{alignItems:"center",justifyContent:"space-between",className:d.a.filterBtns,children:[Object(j.jsx)(E,{extValue:l,extSetValue:function(e){c(le(e))}}),Object(j.jsx)(h,{data:O,extValue:p,extSetValue:function(e){c(ue(e))}})]}),Object(j.jsx)(S,{children:Object(j.jsx)(D,{headers:R,users:s,extMutation:n,clbsArray:x,chosenOrder:m})}),Object(j.jsx)(S,{justifyContent:"end",children:Object(j.jsx)(w,{page:b,setPage:function(e){c(de(e)),window.scrollTo({top:0,behavior:"smooth"})},pageSize:_,allCount:o})}),r&&Object(j.jsx)(S,{justifyContent:"center",children:Object(j.jsx)(ge,{data:r})}),Object(j.jsx)(xe,{})]}):Object(j.jsx)(Oe,{})},Se=r(15),ye=r(37),Ce=Object(Se.b)({reducer:fe}),Ee=Object(Se.c)(Ce,Object(Se.a)(ye.a));window.store=Ee;var Ie=Ee;s.a.render(Object(j.jsx)(A.a,{store:Ie,children:Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(we,{})})}),document.getElementById("root"))},9:function(e,t,r){e.exports={wrapper:"FilterBtn_wrapper__3N9Xr",text:"FilterBtn_text__k64dB",imgWrapper:"FilterBtn_imgWrapper__2fQnw",openedMenu:"FilterBtn_openedMenu__4xHI_"}}},[[69,1,2]]]);
//# sourceMappingURL=main.12c8c914.chunk.js.map